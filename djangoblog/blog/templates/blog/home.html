{% extends "blog/base.html" %}
{% block content %}
    {% for post in posts %}
        <div class="relative flex flex-col min-w-0 rounded break-words border border-1 bg-slate-100 text-slate-800 border-2 border-slate-300 mb-4 shadow-xl">
            <div class="flex-auto p-6">
                <article>
                    <h2 class="text-xl mb-1"><a href={% url "post-detail" post.id %}>{{ post.title }}</a></h2>
                    <p class="text-body-secondary border-b-2 border-slate-300 pb-2">
                        <img src="{{ post.author.profile.image.url }}"
                             alt="Profile image"
                             class="inline rounded-3xl h-5">
                        By <a href="{% url "user-posts" post.author.username %}" class="link-info text-sky-700">{{ post.author }}</a>
                        on {{ post.date_posted|date:"F d, Y" }}</p>
                    <p class="text-body mt-2">{{ post.content }}</p>
                </article>
            </div>
        </div>
    {% endfor %}
    {% if is_paginated %}

        {% if page_obj.has_previous %}
            <a class="inline-block align-middle text-center select-none border font-normal whitespace-no-wrap rounded py-1 px-3 leading-normal no-underline text-sky-700 border-sky-700 hover:bg-sky-700 hover:text-white bg-white hover:bg-teal-600 mb-4 shadow-sm" href="?page=1">First</a>
            <a class="inline-block align-middle text-center select-none border font-normal whitespace-no-wrap rounded py-1 px-3 leading-normal no-underline text-sky-700 border-sky-700 hover:bg-sky-700 hover:text-white bg-white hover:bg-teal-600 mb-4 shadow-sm" href="?page={{ page_obj.previous_page_number }}">Previous</a>
        {% endif %}

        {% for num in page_obj.paginator.page_range %}
            {% if page_obj.number == num %}
                <a class="inline-block align-middle text-center select-none border font-normal whitespace-no-wrap rounded py-1 px-3 leading-normal no-underline text-sky-700 border-sky-700 hover:bg-sky-700 hover:text-white bg-white hover:bg-teal-600 mb-4 shadow-sm"
                   href="?page={{ num }}">{{ num }}</a>
            {% elif num > page_obj.number|add:"-3" and num < page_obj.number|add:"3" %}
                <a class="inline-block align-middle text-center select-none border font-normal whitespace-no-wrap rounded py-1 px-3 leading-normal no-underline text-sky-700 border-sky-700 hover:bg-sky-700 hover:text-white bg-white hover:bg-teal-600 mb-4 shadow-sm"
                   href="?page={{ num }}">{{ num }}</a>

            {% endif %}
        {% endfor %}

        {% if page_obj.has_next %}
            <a class="inline-block align-middle text-center select-none border font-normal whitespace-no-wrap rounded py-1 px-3 leading-normal no-underline text-sky-700 border-sky-700 hover:bg-sky-700 hover:text-white bg-white hover:bg-teal-600 mb-4 shadow-sm" href="?page={{ page_obj.next_page_number }}">Next</a>
            <a class="inline-block align-middle text-center select-none border font-normal whitespace-no-wrap rounded py-1 px-3 leading-normal no-underline text-sky-700 border-sky-700 hover:bg-sky-700 hover:text-white bg-white hover:bg-teal-600 mb-4 shadow-sm" href="?page={{ page_obj.paginator.num_pages }}">Last</a>
        {% endif %}

    {% endif %}
{% endblock content %}